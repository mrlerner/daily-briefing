# Briefing Design â€” Structure, Styling, and Editorial Decisions

Ported from the working AI Engineering Briefing system in `/Users/Shared/openclaw-setup/`.
The reference HTML at `reference/ai-engineering-briefing.html` shows the exact rendering.

---

## Briefing Structure

The AI Engineering briefing arranges content by source platform, not by topic. Each source gets its own ranked section. This keeps the layout predictable and lets the reader scan by source.

### Section Order

| # | Section | Source | Items shown | Ranked by | Icon |
|---|---------|--------|-------------|-----------|------|
| â€” | Weather card | wttr.in | Sunny days only | Date order | â˜€ï¸ |
| 1 | Wall Street Journal | Google News RSS (site:wsj.com) | Top 5 | Recency | ğŸ“° |
| 2 | Hacker News | Algolia API | Top 10 | Points | ğŸŸ  |
| 3 | Reddit | Reddit JSON API | Top 10 | Score | ğŸ”µ |
| 4 | TechCrunch | RSS feed | Top 5 | Recency | ğŸ’š |

The weather card appears between the TOC and the first news section (not as a numbered section).

### Per-Section Metadata

Each section shows different metadata depending on the platform:

**WSJ / TechCrunch (news RSS):**
- Title (linked to article)
- Source label
- Relative timestamp ("3h ago")
- TechCrunch also shows a description snippet (up to 300 chars)

**Hacker News:**
- Title (linked to article URL, falls back to HN discussion URL)
- Points count
- Comment count
- Author
- Relative timestamp
- "discuss â†’" link to HN comments

**Reddit:**
- Title (linked to Reddit discussion)
- Subreddit label (r/ClaudeAI)
- Score (points)
- Comment count
- Author (u/username)
- Relative timestamp

### Page Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           [Header]                   â”‚
â”‚     AI Engineering Briefing          â”‚
â”‚     February 22, 2026 at 06:00      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [TOC]                                â”‚
â”‚  ğŸ“° Wall Street Journal    5        â”‚
â”‚  ğŸŸ  Hacker News           10        â”‚
â”‚  ğŸ”µ Reddit                10        â”‚
â”‚  ğŸ’š TechCrunch             5        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Weather Card]                       â”‚
â”‚  â˜€ï¸ Upcoming Sunny Days in Seattle   â”‚
â”‚  â€¢ Wednesday, Feb 25: Sunny (39-51Â°F)â”‚
â”‚  â€¢ Thursday, Feb 26: Partly cloudy   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Section: WSJ â€” top 5]               â”‚
â”‚  1. Title .......................... â”‚
â”‚     WSJ Â· 3h ago                     â”‚
â”‚  2. ...                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Section: HN â€” top 10]              â”‚
â”‚  1. Title .......................... â”‚
â”‚     â¬†ï¸ 1298 pts Â· ğŸ’¬ 565 Â· by X Â· 6hâ”‚
â”‚  2. ...                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Section: Reddit â€” top 10]           â”‚
â”‚  1. Title .......................... â”‚
â”‚     r/programming Â· â¬†ï¸ 3851 Â· ğŸ’¬ 669 â”‚
â”‚  2. ...                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Section: TechCrunch â€” top 5]        â”‚
â”‚  1. Title .......................... â”‚
â”‚     TechCrunch Â· 4h ago              â”‚
â”‚     Description snippet...           â”‚
â”‚  2. ...                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â†‘ Back to top                â”‚
â”‚     Generated by Daily Briefing      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Freshness Rules

All sources are filtered to **last 24 hours only**. The collectors enforce this before the briefing generator ever sees the data.

| Source | Freshness filter | Enforced by |
|--------|-----------------|-------------|
| WSJ / TechCrunch | 24h (RSS pub_date) | `collect_news.py` |
| Hacker News | 24h (Algolia `created_at_i` filter) | `collect_hn.py` |
| Reddit | 24h (`t=day` parameter + `created_utc` check) | `collect_reddit.py` |
| Twitter/X | 24h (Nitter RSS pub_date) | `collect_twitter.py` |

Relative timestamps ("3h ago", "12h ago") are computed at render time.

---

## Summary Message Format

The summary (sent via Telegram/OpenClaw) shows the **top 3 items per section**, truncated titles, and a link to the full briefing:

```
ğŸ— AI Engineering Briefing
February 22, 2026

ğŸ“° Wall Street Journal
1. Tech Giants Race to Build AI That Can Reason Like...
2. AI Coding Tools Transform Software Development at...
3. Anthropic Raises $3B as AI Startup Valuations Soar

ğŸŸ  Hacker News
1. Cowork: Claude Code for the rest of your work (1298 pts)
2. How to code Claude Code in 200 lines of code (816 pts)
3. Google AI Studio is now sponsoring Tailwind CSS (777 pts)

ğŸ”µ Reddit
1. r/programming: Anthropic: AI assisted coding doesn't show...
2. r/ClaudeAI: 10 Claude Code tips from Boris, the creator...
3. r/LocalLLaMA: Yann LeCun: the best open models are not...

ğŸ’š TechCrunch
1. Anthropic launches new enterprise tier for Claude...
2. Cursor raises $100M Series B to expand AI code editor

ğŸ“Š 5 WSJ Â· 10 HN Â· 10 Reddit Â· 5 TC

ğŸ“– View Full Briefing â†’ [link]
```

Title truncation: WSJ/TC at 70 chars, HN at 60 chars, Reddit at 60 chars.

---

## Visual Design System

### Color Palette

| Role | Color | Hex |
|------|-------|-----|
| Background | White | `#ffffff` |
| Primary text | Slate 800 | `#1e293b` |
| Headings | Slate 900 | `#0f172a` |
| Secondary text | Slate 500 | `#64748b` |
| Accent (links, labels) | Emerald 600 | `#059669` |
| Accent hover | Emerald 700 | `#047857` |
| Borders | Slate 200 | `#e2e8f0` |
| TOC background | Slate 50 | `#f8fafc` |
| Rank badge background | Emerald 100 | `#d1fae5` |
| Rank badge text | Emerald 700 | `#047857` |
| Weather card background | Green 50 | `#f0fdf4` |
| Weather card border | Green 200 | `#bbf7d0` |
| Weather card heading | Green 800 | `#166534` |

### Typography

- **Font:** Inter (Google Fonts), with system font fallback stack
- **Body:** 15px, line-height 1.6
- **H1 (briefing title):** 32px, weight 700, letter-spacing -0.5px
- **Section titles:** 20px, weight 600
- **TOC heading:** 12px, weight 600, uppercase, letter-spacing 1px
- **Post titles:** weight 600
- **Metadata:** 12px, weight 500
- **Descriptions:** 13px, line-height 1.5

### Layout

- **Max width:** 720px, centered
- **Body padding:** 24px top/bottom, 16px sides
- **Card border-radius:** 10px
- **TOC border-radius:** 12px
- **Card padding:** 16px
- **Card spacing:** 12px between cards
- **Section spacing:** 40px between sections

### Interactive Details

- Cards gain emerald border + subtle shadow on hover
- Section headers are sticky (stick to top on scroll)
- Links are emerald green, underline on hover
- Rank badges are rounded squares (8px radius), emerald tinted

---

## Pipeline Order

The original system runs these steps sequentially:

```
1. collect_news.py      â†’ wsj_headlines.json, techcrunch_headlines.json
2. collect_hn.py        â†’ hn_posts.json
3. collect_reddit.py    â†’ reddit_posts.json
4. collect_twitter.py   â†’ twitter_posts.json  (currently broken â€” Nitter unreliable)
5. generate_briefing.py â†’ ai-engineering-briefing.html
6. generate_briefing_with_weather.py â†’ injects weather card into HTML
7. push_to_github.py    â†’ pushes to GitHub Pages
8. send_telegram.py     â†’ sends summary via Telegram
```

Twitter/X collection was in the original design but is unreliable due to Nitter instance instability.
The briefing generates successfully with or without Twitter content.

---

## Weather Card

The weather card uses wttr.in (free, no API key needed) and shows only days with sunny conditions. The logic:

1. Fetch `https://wttr.in/{location}?format=j1`
2. For each day in the forecast, check hourly conditions
3. If 2+ hourly slots contain "sunny", "clear", or "fair" â†’ include the day
4. Show day name, primary condition, and temperature range (Â°F)

The card only appears if there are sunny days in the forecast. If weather fetch fails or no sunny days exist, the card is simply omitted.
